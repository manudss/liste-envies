<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                Liste des envies de {{vm.user.name}}
                <small>{{vm.email}}</small>
            </h1>
        </div>
    </div>
    <div class="list-group">
        <div class="list-group-item" ng-repeat="envie in vm.listeEnvies" ng-class="{'list-group-item-success':envie.userTake}">
            <span class="badge">{{envie.price}}</span>
            <h4 class="list-group-item-heading">{{envie.label}}</h4>
            <p class="list-group-item-text">{{envie.comment}}</p>
            <a ng-href="{{envie.url}}">Plus d'informations</a>
            <h6 ng-if="main.user.email != vm.email && envie.userTake">Offert par {{envie.userTakeUser.name || envie.userTake}}</h6>
            <button type="button" class="btn btn-success" ng-if="main.user.email != vm.email && !envie.userTake" ng-click="vm.given(envie.id)">Offrir</button>
        </div>
    </div>

    <form ng-if="main.user.email == vm.email">
        <div class="form-group">
            <label for="exampleInputEmail1">Titre</label>
            <input type="text" class="form-control" id="exampleInputEmail1" ng-model="vm.envie.label">
        </div>
        <div class="form-group">
            <label for="comment">Commentaire</label>
            <textarea class="form-control"  id="comment" ng-model="vm.envie.comment" >
            </textarea>
        </div>
        <div class="form-group">
            <label for="url">Url</label>
            <input type="url" class="form-control" id="url" ng-model="vm.envie.url">
        </div>
        <div class="form-group">
            <label for="price">Prix</label>
            <input type="text" class="form-control" id="price" ng-model="vm.envie.price">
        </div>
        <button type="submit" class="btn btn-default" ng-click="vm.addEnvie(vm.envie)">Ajouter</button>
    </form>

</div>